{% extends 'app/base.html' %}
{% load static %}
{% block title %}Manage Reservations{% endblock title %}

{% block main-content %}
<section class="section section-divider gray about" id="about" style="background-image: url('/static/app/images/hero-bg.jpg')">
    <h1 style="color: white;">Your Reservations</h1>

    {% if messages %}
        <div class="container">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} text-white" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    {% if reservations %}
        <table style="width: 100%; border-collapse: collapse; color: white; margin: 10px 0">
            <thead>
                <tr>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Name</th>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Email</th>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Date</th>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Time</th>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Number of Guests</th>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Message</th>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Status</th>
                    <th style="border: 1px solid white; padding: 8px; background-color: transparent; color: white;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for reservation in reservations %}
                    <tr>
                        <td style="border: 1px solid white; padding: 8px; color: white;">{{ reservation.name }}</td>
                        <td style="border: 1px solid white; padding: 8px; color: white;">{{ reservation.email }}</td>
                        <td style="border: 1px solid white; padding: 8px; color: white;">{{ reservation.date }}</td>
                        <td style="border: 1px solid white; padding: 8px; color: white;">{{ reservation.time }}</td>
                        <td style="border: 1px solid white; padding: 8px; color: white;">{{ reservation.guests }}</td>
                        <td style="border: 1px solid white; padding: 8px; color: white;">{{ reservation.message }}</td>
                        <td style="border: 1px solid white; padding: 8px; color: white;">{{ reservation.status }}</td>
                        <td style="border: 1px solid white; padding: 8px; color: white;">
                            <a href="{% url 'delete_reservation' reservation.id %}" style="color: white;" onclick="return confirm('Are you sure you want to delete this reservation?');">Delete</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p style="color: white;">You have no reservations.</p>
    {% endif %}
</section>
{% endblock main-content %}
